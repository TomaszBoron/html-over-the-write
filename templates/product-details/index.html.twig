{% extends 'base.html.twig' %}

{% block title %}Hello ProductController!{% endblock %}

{% block body %}

<div class="bg-gray-50 p-6">
	<section class="max-w-5xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden">
		<div class="flex flex-col md:flex-row">
			<!-- Galeria / zdjęcia -->
			<div class="md:w-1/2 p-6 flex items-center justify-center bg-gray-100">
				<img src="{{ product.images[0] }}" alt="{{ product.title }}" class="max-h-96 object-contain rounded" />
			</div>

			<!-- Szczegóły produktu -->
			<div class="md:w-1/2 p-6 flex flex-col gap-4">
				<h1 class="text-3xl font-bold text-gray-900">{{ product.title }}</h1>
				<p class="text-gray-700">{{ product.description }}</p>

				<div class="flex items-center gap-4">
					<span class="text-indigo-600 font-bold text-2xl">{{ product.price }} zł</span>
					<span class="inline-block bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded">
            -{{ product.discountPercentage }}%
          </span>
				</div>

				<p class="text-yellow-500 font-semibold">Rating: {{ product.rating }} ★</p>
				<p class="text-green-600 font-medium">{{ product.availabilityStatus }}</p>

				<div class="text-sm text-gray-600 space-y-1">
					<p><strong>SKU:</strong> {{ product.sku }}</p>
					<p><strong>Stock:</strong> {{ product.stock }}</p>
					<p><strong>Weight:</strong> {{ product.weight }} kg</p>
					<p><strong>Dimensions (W×H×D):</strong> {{ product.dimensions.width }} × {{ product.dimensions.height }} × {{ product.dimensions.depth }} cm</p>
					<p><strong>Warranty:</strong> {{ product.warrantyInformation }}</p>
					<p><strong>Shipping:</strong> {{ product.shippingInformation }}</p>
					<p><strong>Return Policy:</strong> {{ product.returnPolicy }}</p>
					<p><strong>Minimum Order Quantity:</strong> {{ product.minimumOrderQuantity }}</p>
				</div>

				<button class="mt-4 w-full bg-sky-800 text-white py-3 rounded hover:bg-indigo-700 transition cursor-pointer">
					Dodaj do koszyka
				</button>
			</div>
		</div>

		<!-- Recenzje -->
		<section class="mt-8 p-6 bg-gray-100 rounded-lg">
			<h2 class="text-2xl font-semibold mb-4">Recenzje ({{ product.reviews|length }})</h2>
			<ul class="space-y-4 max-h-64 overflow-y-auto">
				{% for review in product.reviews %}
					<li class="bg-white p-4 rounded shadow-sm">
						<div class="flex justify-between items-center mb-1">
							<p class="font-semibold">{{ review.reviewerName }}</p>
							<p class="text-yellow-500 font-bold">{{ review.rating }} ★</p>
						</div>
						<p class="text-gray-700 mb-2">{{ review.comment }}</p>
						<p class="text-xs text-gray-500">{{ review.date|date("Y-m-d") }}</p>
					</li>
				{% else %}
					<li class="text-gray-600 italic">Brak recenzji.</li>
				{% endfor %}
			</ul>
		</section>
	</section>
</div>


{% endblock %}
